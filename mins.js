var module;try{module=angular.module("lvl.services")}catch(e){module=angular.module("lvl.services",[])}module.factory("uuid",function(){var a={"new":function(){function a(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()},empty:function(){return"00000000-0000-0000-0000-000000000000"}};return a});var module=angular.module("lvl.directives.dragdrop",["lvl.services"]);module.directive("lvlDraggable",["$rootScope","uuid",function(a,b){return{restrict:"A",link:function(c,d,e,f){angular.element(d).attr("draggable","true");var g=angular.element(d).attr("id");g||(g=b["new"](),angular.element(d).attr("id",g)),a.global.isModerator()&&(d.bind("dragstart",function(b){b=b.originalEvent?b.originalEvent:b,b.dataTransfer.setData("text",g),a.$emit("LVL-DRAG-START")}),d.bind("dragend",function(b){a.$emit("LVL-DRAG-END")}))}}}]),module.directive("lvlDropTarget",["$rootScope","uuid",function(a,b){return{restrict:"A",scope:{onDrop:"&"},link:function(c,d,e,f){var g=angular.element(d).attr("id");g||(g=b["new"](),angular.element(d).attr("id",g)),a.global.isModerator()&&(d.bind("dragover",function(a){return a.preventDefault&&a.preventDefault(),a=a.originalEvent?a.originalEvent:a,a.dataTransfer.dropEffect="move",!1}),d.bind("dragenter",function(a){a=a.originalEvent?a.originalEvent:a,angular.element(a.target).addClass("lvl-over")}),d.bind("dragleave",function(a){a=a.originalEvent?a.originalEvent:a,angular.element(a.target).removeClass("lvl-over")}),d.bind("drop",function(a){a.preventDefault&&a.preventDefault(),a.stopPropogation&&a.stopPropogation(),a=a.originalEvent?a.originalEvent:a;var b=a.dataTransfer.getData("text"),d=document.getElementById(g),e=document.getElementById(b);c.onDrop({dragEl:e,dropEl:d})})),a.$on("LVL-DRAG-START",function(){var a=document.getElementById(g);angular.element(a).addClass("lvl-target")}),a.$on("LVL-DRAG-END",function(){var a=document.getElementById(g);angular.element(a).removeClass("lvl-target"),angular.element(a).removeClass("lvl-over")})}}}]),angular.module("lvl.directives.fileupload",["lvl.services"]).directive("lvlFileUpload",["uuid","fileUploader",function(a,b){return{restrict:"A",replace:!0,scope:{chooseFileButtonText:"@",uploadFileButtonText:"@",uploadUrl:"@",maxFiles:"@",maxFileSizeMb:"@",autoUpload:"@",getAdditionalData:"&",onProgress:"&",onDone:"&",onError:"&"},template:'<span style="position:relative;"><input type="file" style="opacity:0;position:absolute; z-index:0;" /><label class="btn lvl-choose-button" ng-click="choose()" style="margin-left: 135px;">{{chooseFileButtonText}}</label><button class="btn lvl-upload-button" ng-show="showUploadButton" ng-click="upload()">{{uploadFileButtonText}}</button></span>',compile:function(c,d,e){var f=angular.element(c.children()[0]),g=angular.element(c.children()[1]);d.maxFiles?f.attr("multiple","multiple"):(d.maxFiles=1,f.removeAttr("multiple")),d.maxFileSizeMb||(d.maxFileSizeMb=50);var h=a["new"]();return f.attr("id",h),g.attr("for",h),function(c,d,e,h){function i(a,b,d){c.onError({files:a,type:b,msg:d}),j()}function j(){f.parent();f.remove(),f=angular.element("<input type='file'/>");var b=a["new"]();f.attr("id",b),f.attr("style","opacity:0;position:absolute; z-index:0;"),g.attr("for",b),c.maxFiles>1&&f.attr("multiple","multiple"),angular.element(f).insertBefore(g)}c.files=[],c.showUploadButton=!1,d.bind("change",function(a){if(a.target.files.length){c.files=[];var b=[];if(a.target.files.length>c.maxFiles)return void i(a.target.files,"TOO_MANY_FILES","Cannot upload "+a.target.files.length+" files, maxium allowed is "+c.maxFiles);for(var d=0;d<c.maxFiles&&!(d>=a.target.files.length);d++){var e=a.target.files[d];c.files.push(e),e.size>1048576*c.maxFileSizeMb&&b.push(e)}return b.length>0?void i(b,"MAX_SIZE_EXCEEDED","Files are larger than the specified max ("+c.maxFileSizeMb+"MB)"):void(c.autoUpload&&"true"==c.autoUpload.toLowerCase()?c.upload():c.$apply(function(){c.showUploadButton=!0}))}}),c.upload=function(){var a=null;c.getAdditionalData&&(a=c.getAdditionalData()),b.post(c.files,a).to(c.uploadUrl).then(function(a){c.onDone({files:a.files,data:a.data})},function(a){c.onError({files:c.files,type:"UPLOAD_ERROR",msg:a})},function(a){c.onProgress({percentDone:a})}),j()}}}}}]);var module;try{module=angular.module("lvl.services")}catch(e){module=angular.module("lvl.services",[])}module.factory("fileUploader",["$rootScope","$q",function(a,b){var c={post:function(c,d,e){return{to:function(f){var g=b.defer();if(!c||!c.length)return void g.reject("No files to upload");var h=new XMLHttpRequest;h.upload.onprogress=function(b){a.$apply(function(){var a;b.lengthComputable&&(a=Math.round(b.loaded/b.total*100),e?e(a):g.notify&&g.notify(a))})},h.onload=function(b){a.$apply(function(){var a={files:c,data:angular.fromJson(h.responseText)};g.resolve(a)})},h.upload.onerror=function(b){var c=h.responseText?h.responseText:"An unknown error occurred posting to '"+f+"'";a.$apply(function(){g.reject(c)})};var i=new FormData;d&&Object.keys(d).forEach(function(a){i.append(a,d[a])});for(var j=0;j<c.length;j++)i.append(c[j].name,c[j]);return h.open("POST",f),h.send(i),g.promise}}}};return c}]),window.app=angular.module("tesedaApp",["ngCookies","ngResource","ngSanitize","ngTouch","ui.highlight","ui.bootstrap","ui.sortable","ngRoute","App.controllers","App.directives","App.filters","App.services","lvl.directives.dragdrop","lvl.directives.fileupload","iso","ngTable"]).value("iso.config",{refreshDelay:300,refreshEvent:"isotope:refresh"}).run(["$rootScope","$location","$window","$anchorScroll","$timeout","Global","SearchService","SpecService",function(a,b,c,d,e,f,g,h){a.global=f,a.navCollapsed=!0,a.search={active:!1,input:""},a.loginForm={active:!1},a.accountDetail={active:!1};var i=_.debounce(function(){g.search(a.search.input)},400);a.$watch("search.input",function(a){a&&a.length>1&&i()}),a.toggleTopSearch=function(){a.search.active=!a.search.active,a.loginForm.active=!1,a.search.active?(g.resetResults(),e(function(){angular.element(".search-input-top input").select()},300)):a.search.input=""},a.toggleTopLogin=function(){a.loginForm.active=!a.loginForm.active,a.search.active=!1,a.loginForm.active&&e(function(){angular.element('.login-input-top input[name="username"]').select()},300)},a.toggleAccountDetail=function(){a.accountDetail.active=!a.accountDetail.active,a.search.active=!1},a.isCurrentLocation=function(a){return _.contains(a,b.url())},a.scrollTo=function(a){b.hash(a),e(function(){d()},300)},a.resetScroll=function(){e(function(){angular.element("body, html").scrollTop(0)})},a.currentYear=(new Date).getFullYear(),a.safeApply=function(b){var c;return c=this.$root.$$phase,"$apply"!==c&&"$digest"!==c?a.$apply(b):void 0},a.$on("$locationChangeStart",function(a){if(0==b.url().indexOf("/datasheet")){a.preventDefault();var d=_.last(b.url().split("/"));h.query({_id:d},function(a){if(a){var b=_.first(a);c.location.href=f.imagePath()+b.datasheetName}})}}),a.$on("$routeChangeStart",function(b,c,d){a.navCollapsed=!0,a.search.active=!1,a.search.input="",a.loginForm.active=!1,a.accountDetail.active=!1}),a.$on("$routeChangeError",function(a,b,c,d){})}]),window.app.config(["$routeProvider","$sceProvider",function(a,b){b.enabled(!1),a.when("",{templateUrl:"views/site/home.html",controller:"HomeCtrl",resolve:{pageLoad:["$q","PagesCache",function(a,b){var c=a.defer();return b.pages().then(function(a){c.resolve()}),c.promise}]}}).when("/",{templateUrl:"views/site/home.html",controller:"HomeCtrl",resolve:{pageLoad:["$q","PagesCache",function(a,b){var c=a.defer();return b.pages().then(function(a){c.resolve()}),c.promise}]}}).when("/products",{templateUrl:"views/site/products.html",controller:"ProductsCtrl"}).when("/products/edit",{templateUrl:"views/products/edit.html",controller:"ProductsEditCtrl"}).when("/products/:product",{templateUrl:"views/products/show.html",controller:"ProductsCtrl"}).when("/banner-edit",{templateUrl:"views/banner/edit.html",controller:"BannerEditCtrl"}).when("/tutorials",{templateUrl:"views/site/tutorials.html",controller:"VideosCtrl"}).when("/tutorials/:video",{templateUrl:"views/videos/show.html",controller:"VideosCtrl"}).when("/about",{templateUrl:"views/site/about.html",controller:"AboutCtrl"}).when("/contact",{templateUrl:"views/site/contact.html",controller:"ContactCtrl"}).when("/privacy",{templateUrl:"views/site/privacy.html"}).when("/partners",{templateUrl:"views/site/partners.html",controller:"PartnersCtrl"}).when("/specs",{templateUrl:"views/site/specs.html",controller:"SpecCtrl"}).when("/specs/:spec",{templateUrl:"views/site/specs.html",controller:"SpecCtrl"}).when("/support",{templateUrl:"views/site/support.html",controller:"SupportCtrl",reloadOnSearch:!1}).when("/news",{templateUrl:"views/site/news.html",controller:"PostsCtrl"}).when("/news/:post",{templateUrl:"views/news/show.html",controller:"PostsCtrl"}).when("/images",{templateUrl:"views/site/images.html",controller:"ImagesCtrl"}).when("/images/:image",{templateUrl:"views/site/images.html",controller:"ImagesCtrl"}).when("/pages",{templateUrl:"views/site/pages.html",controller:"PagesCtrl"}).when("/pages/:page",{templateUrl:"views/site/pages.html",controller:"PagesCtrl"}).otherwise({redirectTo:"/"})}]),window.app.config(["$httpProvider",function(a,b){}]),window.app.config(["$locationProvider",function(a){a.hashPrefix("!")}]),window.angular.module("App.directives",[]).directive("scrollTopLink",["$location","$rootScope",function(a,b){var c;return c=function(c,d,e){return d.bind("click",function(){return b.safeApply(function(){return a.hash("")}),$("html, body").animate({scrollTop:0},500),!1})},{restrict:"A",link:c}}]).directive("nwFancyboxMedia",["$timeout",function(a){var b;return b=function(b,c,d){a(function(){c.fancybox({openEffect:"none",closeEffect:"none",prevEffect:"none",nextEffect:"none",arrows:!1,helpers:{media:{}}})},300)},{restrict:"A",link:b}}]).directive("tesedaIsotope",["$timeout",function(a){var b;return b=function(b,c,d){var e,f,g;return e=void 0,f=function(a){return e.isotope({filter:a}),$("#portfolio li.active").removeClass("active"),$("#portfolio-filter").find("[data-filter='"+a+"']").parent().addClass("active")},g=function(){return e=$("#portfolio-items"),e.length?$("#portfolio-filter li a").bind("click",function(){var a;return a=$(this).attr("data-filter"),f(a),!1}):void 0},a(function(){return g()},1e3)},{restrict:"A",link:b}}]).directive("tagManager",["$rootScope",function(a){return{restrict:"A",controller:"TagsCtrl",scope:{type:"@"},template:'<div><ul class="tags"><li data-ng-if="isPosts"><a data-ng-click="selectAll()" data-ng-class="{active:allSelected}">All</a></li><li ng-repeat="(idx, tag) in tags" data-lvl-draggable="true" data-tag-id="{{tag._id}}"><div data-ng-if="$root.global.isModerator()" class="drag-area" data-icon="0" ></div><a data-ng-click="selectTag(tag)" data-ng-class="{editing:$root.global.isModerator(),active:tag.active}">{{tag.name}}</a></li></ul><div data-ng-if="$root.global.isModerator()" style="margin-top:10px;"><form class="form-horizontal"><input type="text" placeholder="Add a category..." ng-model="activeTag.name"/><input type="submit" class="btn" data-ng-click="submitTagForm(activeTag)" value="Add"/></form><div data-lvl-drop-target="true" data-ng-hide="$parent.tags.length==0" data-on-drop="dropped(dragEl, dropEl)" data-icon="&#x29;"><span class="drop-msg">Drop here to delete a category</span></div></div></div>',link:function(b,c){angular.element(c.children()[1]);b.isPosts="posts"==b.type,b.allSelected=!0;var d=function(a){if(a)for(var c=0;c<b.tags.length;c++){var d=b.tags[c];d._id!=a._id&&(d.active=!1)}else for(var c=0;c<b.tags.length;c++)b.tags[c].active=!1};b.selectTag=function(c){c.active=!0,d(c),b.allSelected=!1,a.$broadcast("tag:selected",c,[c])},b.selectAll=function(){b.allSelected=!0,d(),a.$broadcast("tag:selected",null,[])},b.dropped=function(b,c){var d=(angular.element(c),angular.element(b));a.$broadcast("tag:remove",d.attr("data-tag-id"))},b.submitTagForm=function(a){a.type=b.type,b.create(a)}}}}]).directive("previewImage",["ImagesService","$rootScope",function(a,b){return{restrict:"A",scope:{image:"=previewImage"},template:"<img class='preview-image' data-ng-src='{{$root.global.imagePath()}}{{image.url}}'/><div class='remove-image' data-ng-click='removeImage()'></div>",link:function(a,c){a.removeImage=function(){a.image.$remove(),b.$broadcast("image:removed")}}}}]).directive("supportAuthenticated",["$rootScope","Global",function(a,b){return{restrict:"A",compile:function(a){b.isSignedIn()||a.remove()}}}]).directive("supportUnAuthenticated",["$rootScope","Global",function(a,b){return{restrict:"A",compile:function(a){b.isSignedIn()&&a.remove()}}}]),window.angular.module("App.filters",[]).filter("booleanText",function(){return function(a,b,c){return a?b:c}}).filter("arrayToTagClass",function(){return function(a){return _.map(a,function(a){return a.name.replace(/[ ]/gi,"-").replace(/[.]/gi,"-")}).join(" ")}}).filter("capitalize",function(){return function(a,b){return a.substring(0,1).toUpperCase()+a.substring(1)}}).filter("fileSize",function(){return function(a){var b;if(_.isUndefined(a)||_.isNull(a)||"null"===a)return"0 Bytes";switch(b="",!0){case a<Math.pow(2,10):b=a+" Bytes";break;case a>=Math.pow(2,10)&&a<Math.pow(2,20):b=Math.round(a/Math.pow(2,10))+" KB";break;case a>=Math.pow(2,20)&&a<Math.pow(2,30):b=Math.round(a/Math.pow(2,20)*10)/10+" MB";break;case a>Math.pow(2,30):b=Math.round(a/Math.pow(2,30)*100)/100+" GB"}return b}}),window.angular.module("App.services",[]),window.angular.module("App.services").factory("Global",function(){var a=window.user,b="production"==window.nodeEnv;return{currentUser:function(){return a},isSignedIn:function(){return!!a},isAdmin:function(){return a?a.admin||a.webAdmin:!1},isModerator:function(){return a?a.admin||a.webAdmin||a.moderator:!1},isWebAdmin:function(){return a?a.webAdmin:!1},isProduction:function(){return b},imagePath:function(){return b?"https://s3-us-west-2.amazonaws.com/tesedamongo/":"/uploads/"}}}),window.angular.module("App.services").factory("BannerService",["$resource",function(a){return a("banners/:bannerId",{bannerId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("SlideService",["$resource",function(a){return a("slides/:slideId",{slideId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("ProductsService",["$resource",function(a){return a("products/:productId",{productId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("UsersService",["$resource",function(a){return a("users/:userId",{userId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("PostsService",["$resource",function(a){return a("posts/:postId",{postId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("VideosService",["$resource",function(a){return a("videos/:videoId",{videoId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("TagsService",["$resource",function(a){return a("tags/:tagId",{tagId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("ImagesService",["$resource",function(a){return a("images/:imageId",{imageId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("PagesCache",["PagesService","$rootScope","$timeout","$q","orderByFilter",function(a,b,c,d,e){var f=[],g=!1,h=void 0,i={init:"pagesCache:init",updatedPage:"pagesCache:updatedPage"},j=function(a){var b=_.first(_.keys(a)),c=_.find(f,function(c){return c[b]==a[b]});return c};return a.query(function(a){f=a,g=!0,b.$broadcast(i.init)}),{isInitialized:function(){return g},events:i,resetScroll:function(){c(function(){angular.element("body, html").scrollTop(0)})},pages:function(){var a=d.defer();return g?a.resolve(e(f,"order")):b.$on(i.init,function(){a.resolve(e(f,"order"))}),a.promise},getPage:function(a){var c=d.defer(),e=function(){var b=j(a);b?c.resolve(b):c.reject()};return g?e():h=b.$on(i.init,function(){h&&h(),e()}),c.promise},updatePage:function(a){var c=d.defer();return a.$update(function(){b.$broadcast(i.updatedPage,a._id),c.resolve()}),c.promise}}}]),window.angular.module("App.services").factory("PagesService",["$resource",function(a){return a("pages/:pageId",{pageId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("SpecService",["$resource",function(a){return a("specs/:specId",{specId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("SearchService",["$rootScope","$timeout","PagesService","PostsService","VideosService","ProductsService","SpecService",function(a,b,c,d,e,f,g){var h={};return h.searching=!0,h.resultGroups={page:{title:"Page",results:[]},news:{title:"News",results:[]},specs:{title:"Datasheet",results:[]},videos:{title:"Video",results:[]}},h.resetResults=function(){for(var a in h.resultGroups)h.resultGroups[a].results=[]},h.search=function(b){h.searching=!0;var f=function(a,b){h.resultGroups[a].results=b,h.searching=!1};c.query({content:b},function(a){f("page",a)}),d.query({search:b},function(a){f("news",a)}),g.query({search:b},function(a){f("specs",a)}),e.query({search:b},function(b){a.global.isSignedIn()||(b=_.reject(b,function(a){return a.exclusive})),f("videos",b)})},h.noResults=function(){var a=!0;for(var b in h.resultGroups)h.resultGroups[b].results.length>0&&(a=!1);return a},h}]),window.angular.module("App.services").factory("SoftwareService",["$resource",function(a){return a("softwares/:softwareId",{softwareId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.services").factory("AppNoteService",["$resource",function(a){return a("appnotes/:appnoteId",{appnoteId:"@_id"},{update:{method:"PUT"}})}]),window.angular.module("App.controllers",[]),window.angular.module("App.controllers").controller("HeaderController",["$rootScope","$scope","$timeout","$routeParams","PagesCache",function(a,b,c,d,e){var f=function(){e.pages().then(function(a){b.pages=_.filter(a,function(a){return a.navShow})})};b.isPageActive=function(b){return"home"==b&&a.isCurrentLocation(["/",""])?!0:a.isCurrentLocation(["/"+b])},b.navCollapsed=!0,b.$on(e.events.updatedPage,function(a,b){f()}),b.$on("$routeChangeStart",function(){b.navCollapsed=!0}),b.$watch("navCollapsed",function(a){c(function(){angular.element(".nav-collapse.collapsing").css({top:a?"0px":"28px",position:"relative"})},300)}),f()}]),window.angular.module("App.controllers").controller("FooterController",["$rootScope","$scope","$routeParams","PagesCache",function(a,b,c,d){var e=function(){d.pages().then(function(a){b.pages=_.filter(a,function(a){return a.navShow})})};b.isPageActive=function(b){return"home"==b&&a.isCurrentLocation(["/",""])?!0:a.isCurrentLocation(["/"+b])},b.$on(d.events.updatedPage,function(a,b){e()}),e()}]),window.angular.module("App.controllers").controller("HomeCtrl",["$scope","$rootScope","$filter","$timeout","PagesCache","BannerService",function(a,b,c,d,e,f){a.carouselInterval=6e3,a.slides=[{active:!0,view:"views/banner/1.html"},{active:!1,view:"views/banner/2.html"},{active:!1,view:"views/banner/3.html"},{active:!1,view:"views/banner/4.html"}],a.slides2=[{active:!0,view:"assets/carousel_1.jpg"},{active:!1,view:"assets/carousel_2.gif"},{active:!1,view:"assets/carousel_3.gif"}],f.query({route:"home"},function(b){a.banner=_.first(b)}),e.getPage({route:"home"}).then(function(b){a.page=b})}]),window.angular.module("App.controllers").controller("PartnersCtrl",["$scope","$rootScope","$filter","$timeout","PagesCache",function(a,b,c,d,e){e.getPage({route:"partners"}).then(function(b){a.page=b})}]),window.angular.module("App.controllers").controller("RegisterCtrl",["$scope","$rootScope","$filter","$timeout","$location","$routeParams","$modal",function(a,b,c,d,e,f,g){if("2"==f.f&&(a.failed=!0,d(function(){angular.element(".nav-tabs li a").last().scope().select()},300),f.err&&f.user)){var h=JSON.parse(f.user);a.errors=JSON.parse(f.err),e.search("err",null),e.search("user",null),e.search("f",null),a.registerUser={name:h.name,company:h.company,clientId:h.clientId,username:h.username}}a.requestClientId=function(){g.open({templateUrl:"views/user/request-id.html",controller:["$rootScope","$scope","$modalInstance",function(a,b,c){b.request={name:"",email:"",phone:""},b.cancel=function(){c.dismiss("cancel")}}]})}}]),window.angular.module("App.controllers").controller("LoginCtrl",["$scope","$rootScope","$filter","$timeout","$routeParams",function(a,b,c,d,e){a.selectRegister=function(){angular.element(".nav-tabs li a").last().scope().select()},"1"===e.f&&(a.failed=!0)}]),window.angular.module("App.controllers").controller("BannerEditCtrl",["$scope","$rootScope","$q","$filter","$timeout","$location","$window","$routeParams","Global","BannerService","SlideService","PagesCache","orderByFilter",function(a,b,c,d,e,f,g,h,i,j,k,l,m){a.showNewForm=!1,a.editing=!1;var n=function(){a.activeBanner={title:"",route:"",slides:[]}};a.openNewForm=function(){a.editing=!1,n(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,l.resetScroll()},a.addSlide=function(){var b=new k({markup:"",order:a.activeBanner.slides.length+1});a.activeBanner.slides.push(b)},a.banners=[];var o=function(b){j.query(b,function(b){a.banners=b})};a.create=function(b){if(a.editing)a.update(b);else{var c=new j({title:b.title,route:b.route});p(b).then(function(){c.$save(function(b){b&&b._id&&a.banners.push(b),a.toggleNew(!1),n()})})}};var p=function(a){var b=c.defer();if(a.slides.length>0){var d,e=0,f=function(){var a=new k(d);a.$update(function(){h(!0)})},g=function(){d.$save(function(a){h(!0)})},h=function(c){c&&e++,a.slides.length==e?b.resolve():(d=a.slides[e],d._id?f():g())};h()}else b.resolve();return b.promise};a.editBanner=function(b){a.editing=!0,a.activeBanner=b,a.toggleNew(!0)},a.update=function(b){p(b).then(function(){b.$update(function(){a.toggleNew(!1),n()})})},a.deleteSlide=function(b){if(g.confirm("Are you sure you want to delete?")){if(b._id){var c=b._id,d=new k(b);d.$remove()}for(var e=0;e<a.activeBanner.slides.length;e++)if(a.activeBanner.slides[e]._id==c){a.activeBanner.slides.splice(e,1);break}}};var q=function(){var b=0,c=function(){var d=a.activeBanner.slides[b];d.order=b+1,b++,b==a.activeBanner.slides.length?a.updatingSort=!1:c()};c()};a.updatingSort=!1,a.sortableOptions={update:function(b,c){a.updatingSort=!0,e(function(){q()},100)},axis:"y",cursor:"move",delay:150,items:"> li.sortable-item"},a.find=function(b){j.query(b,function(b){a.products=b})},a.findOne=function(){j.get({bannerId:h.bannerId},function(b){a.banner=b})},a.remove=function(b){if(g.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.banners){var d=a.banners[c];if(d._id==b._id){a.banners.splice(c,1),a.toggleNew(!1),n();break}}}},h.bannerId?a.findOne():(o(),n())}]),window.angular.module("App.controllers").controller("ProductsCtrl",["$scope","$rootScope","$filter","$timeout","$routeParams","ProductsService","PagesCache","orderByFilter",function(a,b,c,d,e,f,g,h){e.product?f.query({shortUrl:"/products/"+e.product},function(b){a.product=_.first(b)}):(g.getPage({route:"products"}).then(function(b){a.page=b}),f.query({featured:!0},function(b){a.products=h(b,"+featuredOrder")}))}]),window.angular.module("App.controllers").controller("ProductsEditCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","$routeParams","Global","ProductsService","PagesCache","orderByFilter",function(a,b,c,d,e,f,g,h,i,j,k){if(!h.isSignedIn())return void e.path("support");a.showNewForm=!1,a.editing=!1;var l=function(){a.activeProduct={name:"",description:"",content:"",shortUrl:"",featured:"",featureList:"",featuredOrder:0}};a.openNewForm=function(){a.editing=!1,l(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,j.resetScroll()},a.products=[];var m=function(b){i.query(b,function(b){a.products=k(b,"+featuredOrder")})};a.create=function(b){if(a.editing)a.update(b);else{var c=new i({name:b.name,description:b.description,content:b.content,shortUrl:b.shortUrl,featured:b.featured,featureList:b.featureList,featuredOrder:b.featuredOrder});c.$save(function(b){b&&b._id&&a.products.push(b),a.toggleNew(!1),l()})}},a.editProduct=function(b){a.editing=!0,a.activeProduct=b,a.toggleNew(!0)},a.update=function(b){b.$update(function(){a.toggleNew(!1),l()})},a.find=function(b){i.query(b,function(b){a.products=b})},a.findOne=function(){i.get({productId:g.productId},function(b){a.product=b})},a.remove=function(b){if(f.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.products){var d=a.products[c];if(d._id==b._id){a.products.splice(c,1),a.toggleNew(!1),l();break}}}},g.productId?a.findOne():(m(),l())}]),window.angular.module("App.controllers").controller("UsersCtrl",["$scope","Global","$rootScope","$filter","$timeout","$window","$routeParams","UsersService",function(a,b,c,d,e,f,g,h){a.showUserForm=!1,a.editing=!1;var i=function(){a.activeUser={name:"",company:"",clientId:"",admin:!1,username:""},a.userConfirm={confirmPassword:""}};a.openNewForm=function(){a.editing=!1,i(),a.toggleNew(!0)},a.toggleNew=function(b){a.showUserForm=_.isUndefined(b)?!a.showUserForm:b},a.create=function(b){if(a.editing)a.update(b);else{var c=function(){var c=new h({name:b.name,company:b.company,clientId:b.clientId,username:b.username,password:b.password});c.$save(function(b){b&&b._id&&a.users.push(b),a.toggleNew(!1),i()})};b.password?b.password==a.userConfirm.confirmPassword?c():f.alert("Passwords must match!"):c()}},a.editUser=function(b){a.editing=!0,a.activeUser=b,a.toggleNew(!0)},a.update=function(b){b.$update(function(){a.toggleNew(!1),resetActiveProduct()})},a.remove=function(b){if(f.confirm("Are you sure you want to delete this user account?")){b.$remove();for(var c in a.users){var d=a.users[c];if(d._id==b._id){a.users.splice(c,1),a.toggleNew(!1),i();break}}}},i(),b.isAdmin()&&h.query(function(b){a.users=b})}]),window.angular.module("App.controllers").controller("PostsCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","$routeParams","Global","PostsService","ImagesService","PagesCache","orderByFilter",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b,c){if(c){var d=c.filenames[0],e=new j({url:d});e.$save(function(b){b&&b._id&&(a.uploadedImage=b,a.fileUploading=!1)})}}var n=[];a.showNewForm=!1,a.editing=!1,a.fileUploading=!1,a.uploadedImage=void 0,a.tagSelectionOn=!1;var o=function(){a.activePost={title:"",content:""},a.fileUploading=!1,a.uploadedImage=void 0,a.tagSelectionOn=!1};a.openNewForm=function(){a.editing=!1,o(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,k.resetScroll()},a.limitedContent=function(a){return a.content.length>1e3?a.content.substring(0,1e3)+"&nbsp;<a href='/#!/news/"+a._id+"'>Read more ...</a>":a.content},a.posts=[];var p=function(b){a.posts=l(b,"-created"),n=a.posts},q=function(b){b=b||{},i.query(b,function(b){if(p(b),g.edit){var c=g.edit;editPostFound=_.find(a.posts,function(a){return a._id==c}),editPostFound&&a.editPost(editPostFound)}})};a.create=function(b){if(a.editing)a.update(b);else{var c=new i({title:b.title,content:b.content});a.uploadedImage&&(c.image=a.uploadedImage.url),c.$save(function(b){b&&b._id&&(a.posts.push(b),p(a.posts)),a.toggleNew(!1),o()})}},a.editPost=function(b){a.editing=!0,a.activePost=b,a.toggleNew(!0),a.fileUploading=!1,a.uploadedImage=void 0},a.tagFilterName=function(a){return"."+a.name.replace(/[ ]/gi,"-").replace(/[.]/gi,"-")},a.tagConnect=function(b,c){var d=angular.element(c),e=angular.element(b),f=d.attr("data-post-id"),g=e.attr("data-tag-id"),h=_.find(a.posts,function(a){return a._id==f});h&&a.update(h,{tagId:g})},a.removeTagFromPost=function(b,c){h.isAdmin()&&f.confirm("Are you sure you want to remove this category from this article?")&&a.update(c,{removeTagId:b._id})},a.changeRouteToEdit=function(){a.post&&e.url("news?edit="+a.post._id)},a.update=function(b,c){a.uploadedImage&&(b.image=a.uploadedImage.url),c=c||{},b.$update(c,function(){a.toggleNew(!1),o()})},a.find=function(a){a=a||{},i.query(a,function(a){p(a)})},a.findOne=function(){i.get({postId:g.post},function(b){a.post=b})},a.remove=function(b){if(f.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.posts){var d=a.posts[c];if(d._id==b._id){a.posts.splice(c,1),a.toggleNew(!1),o();break}}}},a.$on("tag:selected",function(b,c,d){if(0==d.length)a.tagSelectionOn=!1,p(n);else{a.tagSelectionOn=!0;var e=_.pluck(d,"_id"),f=_.filter(n,function(a){return _.filter(a.tags,function(a){return _.contains(e,a._id)}).length>0});a.posts=l(f,"-created")}}),a.$on("image:removed",function(b){a.uploadedImage=void 0}),a.progress=function(b){a.fileUploading=!0},a.done=function(a,b){m(a,b)},a.getData=function(a){return{msg:"from the client",date:new Date}},a.error=function(a,b,c){m(a)},g.post?a.findOne():(q(),o(),k.getPage({route:"news"}).then(function(b){a.page=b}))}]),window.angular.module("App.controllers").controller("VideosCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","$routeParams","Global","VideosService","ImagesService","TagsService","PagesCache","orderByFilter",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(b,c){console.log("Files");for(var d=0;d<b.length;d++)console.log("	"+b[d].name);if(c){var e=c.filenames[0],f=new j({url:e});f.$save(function(b){b&&b._id&&(a.uploadedImage=b,a.fileUploading=!1)})}}a.showNewForm=!1,a.editing=!1,a.fileUploading=!1,a.uploadedImage=void 0,a.videoTags=[];var o=function(){a.activeVideo={title:"",url:"",type:"YouTube",order:1,poster:"",exclusive:!1},a.fileUploading=!1,a.uploadedImage=void 0};a.openNewForm=function(){a.editing=!1,o(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,l.resetScroll()},a.videos=[];var p=function(c){b.global.isSignedIn()||(c=_.reject(c,function(a){return a.exclusive})),a.videos=m(c,"+order")},q=function(a){i.query(a,function(a){p(a),r(),d(function(){b.$broadcast("isotope:refresh")},800)})},r=function(){b.global.isModerator()||k.query({type:"tutorials"},function(b){for(var c=[],d=[],e=0;e<a.videos.length;e++){var f=a.videos[e];c=c.concat(_.pluck(f.tags,"_id"))}for(var g=0;g<b.length;g++){var h=b[g];_.contains(c,h._id)&&d.push(h)}a.videoTags=d})},s=function(a){var b="";return"YouTube"==a.type?b=_.last(a.url.split("v=")):"Vimeo"==a.type&&(b=_.last(a.url.split("com/"))),b},t=function(a){var b="";return"YouTube"==a.type?b="http://www.youtube.com/watch?v="+a.url:"Vimeo"==a.type&&(b="http://vimeo.com/"+a.url),b};a.create=function(b){if(a.editing)a.update(b);else{var c=new i({title:b.title,type:b.type,order:Number(b.order),exclusive:b.exclusive||!1});if(!b.url)return void f.alert("Video URL is required!");c.url=s(b),a.uploadedImage&&(c.poster=a.uploadedImage.url),c.$save(function(b){b&&b._id&&(a.videos.push(b),p(a.videos)),a.toggleNew(!1),o()})}},a.videoPoster=function(a){return a.poster||"default-video-poster.gif"},a.editVideo=function(b){a.editing=!0,a.activeVideo=b,a.activeVideo.url=t(b),a.toggleNew(!0),a.fileUploading=!1,a.uploadedImage=void 0},a.update=function(b,c){a.uploadedImage&&(b.poster=a.uploadedImage.url),c=c||{},b.$update(c,function(){a.toggleNew(!1),o()})},a.find=function(a){i.query(a,function(a){p(a)})},a.findOne=function(){i.get({videoId:g.video},function(b){a.video=b})},a.remove=function(b){if(f.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.videos){var d=a.videos[c];if(d._id==b._id){a.videos.splice(c,1),a.toggleNew(!1),o();break}}}},a.tagFilterName=function(a){return"."+a.name.replace(/[ ]/gi,"-").replace(/[.]/gi,"-")},a.tagConnect=function(b,c){var d=angular.element(c),e=angular.element(b),f=d.attr("data-video-id"),g=e.attr("data-tag-id"),h=_.find(a.videos,function(a){return a._id==f});h&&a.update(h,{tagId:g})},a.$on("tag:selected",function(a,b){}),a.$on("image:removed",function(b){a.uploadedImage=void 0}),a.progress=function(b){a.fileUploading=!0,
console.log("progress: "+b+"%")},a.done=function(a,b){console.log("upload complete"),console.log("data: "+JSON.stringify(b)),n(a,b)},a.getData=function(a){return{msg:"from the client",date:new Date}},a.error=function(a,b,c){console.log("Upload error: "+c),console.log("Error type:"+b),n(a)},g.video?a.findOne():(l.getPage({route:"tutorials"}).then(function(b){a.page=b}),q(),o()),b.global.isModerator()&&a.$on("tag:loaded",function(b,c){a.videoTags=c})}]),window.angular.module("App.controllers").controller("TagsCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","$routeParams","Global","TagsService",function(a,b,c,d,e,f,g,h,i){a.showNewForm=!1,a.editing=!1;var j=function(){a.activeTag={name:"",type:""}};a.openNewForm=function(){a.editing=!1,j(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b},a.tags=[];var k=function(c){c=c||{},i.query(c,function(c){a.tags=c,b.$broadcast("tag:loaded",c)})};a.create=function(b){if(a.editing)a.update(b);else{var c=new i({name:b.name,type:b.type});c.$save(function(b){b&&b._id&&a.tags.push(b),a.toggleNew(!1),j()})}},a.editTag=function(b){a.editing=!0,a.activeTag=b,a.toggleNew(!0)},a.update=function(b){b.$update(function(){a.toggleNew(!1),j()})},a.find=function(b){i.query(b,function(b){a.tags=b})},a.findOne=function(){i.get({tagId:g.tag},function(b){a.tag=b})},a.remove=function(b){if(f.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.tags){var d=a.tags[c];if(d._id==b._id){a.tags.splice(c,1),a.toggleNew(!1),j();break}}}},a.$on("tag:remove",function(b,c){var d=_.find(a.tags,function(a){return a._id==c});d&&a.remove(d)}),g.tag?a.findOne():(k({type:a.type}),j())}]),window.angular.module("App.controllers").controller("ImagesCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","$routeParams","Global","ImagesService","PagesCache",function(a,b,c,d,e,f,g,h,i,j){function k(b,c){console.log("Files");for(var d=0;d<b.length;d++)console.log("	"+b[d].name);if(c){var e=c.filenames[0];a.create({url:e})}}a.showNewForm=!1,a.editing=!1,a.fileUploading=!1;var l=function(){a.activeImage={url:""},a.fileUploading=!1};a.openNewForm=function(){a.editing=!1,l(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,j.resetScroll()},a.images=[];var m=function(b){i.query(b,function(b){a.images=b})};a.create=function(b){if(a.editing)a.update(b);else{var c=new i({url:b.url});c.$save(function(b){b&&b._id&&a.images.push(b),a.toggleNew(!1),l()})}},a.editImage=function(b){a.editing=!0,a.activeImage=b,a.toggleNew(!0)},a.update=function(b){b.$update(function(){a.toggleNew(!1),l()})},a.find=function(b){i.query(b,function(b){a.images=b})},a.findOne=function(){i.get({imageId:g.image},function(b){a.image=b})},a.remove=function(b){if(f.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.images){var d=a.images[c];if(d._id==b._id){a.images.splice(c,1),a.toggleNew(!1),l();break}}}},a.progress=function(b){a.fileUploading=!0,console.log("progress: "+b+"%")},a.done=function(a,b){console.log("upload complete"),console.log("data: "+JSON.stringify(b)),k(a,b)},a.getData=function(a){return{msg:"from the client",date:new Date}},a.error=function(a,b,c){console.log("Upload error: "+c),console.log("Error type:"+b),k(a)},g.image?a.findOne():(m(),l())}]),window.angular.module("App.controllers").controller("PagesCtrl",["$scope","$rootScope","$filter","$timeout","$location","$window","$routeParams","Global","PagesCache","orderByFilter",function(a,b,c,d,e,f,g,h,i,j){a.showNewForm=!1,a.editing=!1;var k=function(){a.activePage={title:"",subheading:"",content:"",route:""}};a.openNewForm=function(){a.editing=!1,k(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,i.resetScroll()},a.pages=[],a.create=function(b){if(a.editing)a.update(b);else{var c=new PagesService({title:b.title,subheading:b.subheading,content:b.content,route:b.route,customStyle:b.customStyle});b.navShow&&b.navName&&(c.navShow=!0,c.navName=b.navName),b.order&&(c.order=b.order),b.showBanner&&(c.showBanner=!0),b.overviewVideo&&(c.overviewVideo=b.overviewVideo),c.$save(function(b){b&&b._id&&a.pages.push(b),a.toggleNew(!1),k()})}},a.editPage=function(b){a.editing=!0,a.activePage=b,a.toggleNew(!0)};var l=function(){var b=0,c=function(){var d=a.pages[b];d.order=b+1,i.updatePage(d).then(function(){b++,b==a.pages.length?(a.updatingSort=!1,m()):c()})};c()};a.updatingSort=!1,a.sortableOptions={update:function(b,c){a.updatingSort=!0,d(function(){l()},100)},axis:"y",cursor:"move",delay:150,items:"> li.sortable-item"},a.update=function(b){i.updatePage(b).then(function(){a.toggleNew(!1),k()})},a.remove=function(b){if(f.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.pages){var d=a.pages[c];if(d._id==b._id){a.pages.splice(c,1),a.toggleNew(!1),k();break}}}};var m=function(){i.pages().then(function(b){a.pages=j(b,"+order")})};h.isAdmin()&&(m(),k(),g.page&&i.getPage({_id:g.page}).then(function(b){b&&a.editPage(b)}))}]),window.angular.module("App.controllers").controller("AboutCtrl",["$scope","$rootScope","$filter","$timeout","PagesCache",function(a,b,c,d,e){e.getPage({route:"about"}).then(function(b){a.page=b})}]),window.angular.module("App.controllers").controller("ContactCtrl",["$scope","$rootScope","$filter","$timeout","PagesCache",function(a,b,c,d,e){e.getPage({route:"contact"}).then(function(b){a.page=b})}]),window.angular.module("App.controllers").controller("SpecCtrl",["$scope","$rootScope","$q","$window","$filter","$timeout","PagesCache","ngTableOptions","orderByFilter","$routeParams","SpecService","ImagesService",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b,c){if(c){var d=c.filenames[0],e=new l({url:d});e.$save(function(b){b&&b._id&&(o?a.uploadedSpec=b:a.uploadedDatasheet=b,a.fileUploading=!1,q())})}}var n=[],o=!1;a.specs=[],a.filtered=!1,a.showNewForm=!1,a.editing=!1,a.fileUploading=!1,a.uploadedDatasheet=void 0,a.uploadedSpec=void 0;var p=function(){a.activeSpec={name:"",description:"",datasheetName:"",specName:"",order:1},a.fileUploading=!1,a.uploadedDatasheet=void 0,a.uploadedSpec=void 0};a.uploadToggleType=function(a){switch(a){case"spec":o=!0;break;default:o=!1}};var q=function(){o=!1};a.openNewForm=function(){a.editing=!1,p(),a.toggleNew(!0)},a.toggleNew=function(b){a.showNewForm=_.isUndefined(b)?!a.showNewForm:b,g.resetScroll()};var r=function(b){a.specs=i(b,"order"),n=a.specs},s=function(b){b=b||{},k.query(b,function(b){r(b),j.spec&&(a.filtered=!0,a.otherSpecsTotal=n.length-1,a.specs=_.select(n,function(a){return a._id==j.spec}))})};a.create=function(b){if(a.editing)a.update(b);else{var c=new k({name:b.name,description:b.description,order:n.length+1});a.uploadedDatasheet&&(c.datasheetName=a.uploadedDatasheet.url),a.uploadedSpec&&(c.specName=a.uploadedSpec.url),c.$save(function(b){b&&b._id&&(a.specs.push(b),r(a.specs)),a.toggleNew(!1),p()})}},a.editSpec=function(b){a.editing=!0,a.activeSpec=b,a.toggleNew(!0),a.fileUploading=!1,a.uploadedDatasheet=void 0,a.uploadedSpec=void 0},a.removeFile=function(b,c){l.query({url:b},function(b){var d=_.first(b);d.$remove(),a.activeSpec[c+"Name"]="",a.update(a.activeSpec)})},a.update=function(b,d){var e=c.defer();return a.uploadedDatasheet&&(b.datasheetName=a.uploadedDatasheet.url),a.uploadedSpec&&(b.specName=a.uploadedSpec.url),d=d||{},b.$update(d,function(){a.toggleNew(!1),p(),e.resolve()}),e.promise};var t=function(){var b=0,c=function(){var d=a.specs[b];d.order=b+1,a.update(d).then(function(){b++,b==a.specs.length?(a.updatingSort=!1,r(a.specs)):c()})};c()};a.updatingSort=!1,b.global.isModerator()?a.sortableOptions={update:function(b,c){a.updatingSort=!0,f(function(){t()},300)},axis:"y",cursor:"move",delay:150,items:"tbody tr"}:a.sortableOptions={axis:"y",cursor:"default",items:"tr.noop-item"},a.remove=function(b){if(d.confirm("Are you sure you want to delete?")){var c=b._id;b.$remove();for(var e in a.specs)if(a.specs[e]._id==c){a.specs.splice(e,1);for(var f=0;f<n.length;f++){var g=n[f];if(g._id==c){n.splice(f,1);break}}a.toggleNew(!1),p();break}}},a.$on("image:removed",function(b){a.uploadedDatasheet=void 0,a.uploadedSpec=void 0}),a.progress=function(b){a.fileUploading=!0},a.done=function(a,b){m(a,b)},a.getData=function(a){return{msg:"from the client",date:new Date}},a.error=function(a,b,c){m(a)},a.tableOptions=new h({page:0,total:0,count:3,counts:[],sorting:{order:"asc"},paginationEnabled:!1}),a.$watch("tableOptions",function(b){a.specs=b.sorting?i(a.specs,b.orderBy()):a.specs},!0),s(),p(),g.getPage({route:"specs"}).then(function(b){a.page=b})}]),window.angular.module("App.controllers").controller("SupportCtrl",["$scope","$rootScope","$routeParams","$filter","$timeout","$location","PagesCache","$modal",function(a,b,c,d,e,f,g,h){g.getPage({route:"support"}).then(function(b){a.page=b});var i=function(){e(function(){angular.element(".nav-tabs li a").last().scope().select()},300)};"r"==c.t&&i(),c.request&&(c.invalid?(i(),e(function(){h.open({templateUrl:"views/user/request-id.html",controller:["$scope","$modalInstance","$routeParams",function(a,b,c){a.invalidCompanyEmail="2"==c.invalid,a.invalidEmail="3"==c.invalid,a.invalidData=!a.invalidCompanyEmail&&!a.invalidEmail,a.request={name:c.name,email:c.email,phone:c.phone},f.search("request",null),f.search("invalid",null),f.search("name",null),f.search("email",null),f.search("phone",null),a.cancel=function(){b.dismiss("cancel")}}]})},300)):e(function(){h.open({templateUrl:"views/user/request-success.html",controller:["$scope","$modalInstance","$routeParams","$location",function(a,b,c,d){d.search("request",null),a.name=c.name,d.search("name",null),a.ok=function(){b.dismiss("cancel")}}]})},300))}]),window.angular.module("App.controllers").controller("SearchCtrl",["$scope","$rootScope","$filter","$timeout","SearchService",function(a,b,c,d,e){a.searchService=e}]),window.angular.module("App.controllers").controller("DownloadsCtrl",["$scope","$rootScope","$filter","$timeout","$window","SoftwareService","orderByFilter",function(a,b,c,d,e,f,g){a.showDownloadForm=!1,a.oneAtATime=!0,a.editing=!1,a.openNewDownloadForm=function(b,c){_.isUndefined(b)?a.showDownloadForm=!a.showDownloadForm:a.showDownloadForm=b,c?(a.editing=!0,a.activeItem=c):(a.editing=!1,a.activeItem={name:"",description:""})},a.update=function(b,c){c=c||{},b.$update(c,function(){a.openNewDownloadForm(!1),h(a.downloads)})},a.remove=function(b){if(e.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.downloads){var d=a.downloads[c];if(d._id==b._id){a.downloads.splice(c,1),a.openNewDownloadForm(!1);break}}}},a.create=function(b){if(a.editing)a.update(b);else{var c=new f({name:b.name,description:b.description,order:b.order||a.downloads.length+1});c.$save(function(b){b&&b._id&&(a.downloads.push(b),h(a.downloads)),a.openNewDownloadForm(!1)})}};var h=function(b){a.downloads=g(b,"+order")},i=function(a){a=a||{},f.query(a,function(a){h(a)})};i()}]),window.angular.module("App.controllers").controller("AppNotesCtrl",["$scope","$rootScope","$filter","$timeout","$window","AppNoteService","orderByFilter",function(a,b,c,d,e,f,g){a.showAppNoteForm=!1,a.oneAtATime=!0,a.editing=!1,a.openNewAppNoteForm=function(b,c){_.isUndefined(b)?a.showAppNoteForm=!a.showAppNoteForm:a.showAppNoteForm=b,c?(a.editing=!0,a.activeItem=c):(a.editing=!1,a.activeItem={name:"",description:""})},a.update=function(b,c){c=c||{},b.$update(c,function(){a.openNewAppNoteForm(!1),h(a.appnotes)})},a.remove=function(b){if(e.confirm("Are you sure you want to delete?")){b.$remove();for(var c in a.appnotes){var d=a.appnotes[c];if(d._id==b._id){a.appnotes.splice(c,1),a.openNewAppNoteForm(!1);break}}}},a.create=function(b){if(a.editing)a.update(b);else{var c=new f({name:b.name,description:b.description,order:b.order||a.appnotes.length+1});c.$save(function(b){b&&b._id&&(a.appnotes.push(b),h(a.appnotes)),a.openNewAppNoteForm(!1)})}};var h=function(b){a.appnotes=g(b,"+order")},i=function(a){a=a||{},f.query(a,function(a){h(a)})};i()}]),window.init=function(){angular.bootstrap(document,["tesedaApp"])},$(document).ready(function(){"#_=_"==window.location.hash&&(window.location.hash=""),window.init()});